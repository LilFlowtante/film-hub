<!-- HEADER -->
<nav class="navbar navbar-expand-lg">
    <!--<a class="navbar-brand" href="javascript:void(0)"><strong>FindYourMovie</strong></a>-->
    <a class="navbar-brand" href="javascript:void(0)">
      <img src="assets/favicon.jpg" alt="logo" class="logo">
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <button class="favoris" [disabled]="favoris.length == 0" mat-button (click)="showFavoris()">
            Favoris
          </button>
        </li>
      </ul>
      <form class="form-inline my-2 my-lg-0">
        <div class="nav-item dropdown">
            <div class="search-box">
                <form (ngSubmit)="findMovies()" [formGroup]="findMovieForm" class="search-form">
                    <mat-form-field>
                        <mat-label>Recherche</mat-label>
                        <input matInput formControlName="key" required>
                    </mat-form-field>
                    &nbsp;
                    <button type="submit" mat-raised-button color="orange" [disabled]="findMovieForm.invalid">
                        <i class="fas fa-search"></i>
                    </button>
                </form>
            </div>
        </div>
      </form>
    </div>
</nav>
  
<br/>

<!-- MOVIES -->
<div *ngIf="showSearchMovies" class="content">
  <h1 class="title">{{moviesMessage}}</h1>
  <mat-card class="example-card" *ngFor="let movie of movies">
    <div class="container">
      <img [src]="movie.Poster" alt="movie-poster" class="image" style="width:100%">
      <div class="middle">
        <div class="text">
          <a href="javascript:void()" (click)="showMovie(movie.Title)">{{movie.Title}}</a>
          &nbsp;
          <a href="javascript:void()" (click)="addToFavoris(movie)">
            <i class="far fa-heart" matTooltip="Ajouter aux favoris"></i>
          </a>
        </div>
      </div>
    </div>
  </mat-card>
</div>

<!-- MOVIE DETAILS -->
<mat-card class="movie-detail" *ngIf="showMovieDetails">
  <mat-card-header>
    <mat-card-title>{{movie.Title}}</mat-card-title>
    <mat-card-subtitle>Ann√©e: {{movie.Year}}</mat-card-subtitle>
    <mat-card-subtitle>Directeur: {{movie.Director}}</mat-card-subtitle>
    <mat-card-subtitle>Acteurs: {{movie.Actors}}</mat-card-subtitle>
  </mat-card-header>
  <img mat-card-image [src]="movie.Poster" alt="Photo of a Shiba Inu">
  <mat-card-content>
    <p>
      {{movie.Plot}}
    </p>
  </mat-card-content>
  <mat-card-actions>
    <button mat-button *ngIf="movieIsFavorite" (click)="deleteFromFavoris(movie)">
      <i class="fas fa-heart" matTooltip="Enlever des favoris"></i>
    </button>
    <button mat-button *ngIf="!movieIsFavorite" (click)="addToFavoris(movie)">
      <i class="far fa-heart" matTooltip="Ajouter aux favoris"></i>
    </button>
  </mat-card-actions>
</mat-card>

<!-- FAVORIS -->
<div *ngIf="showFavoriteMovies" class="content">
  <h1 class="title">{{moviesMessage}}</h1>
  <mat-card class="example-card" *ngFor="let favori of favoris">
    <div class="container">
      <img [src]="favori.Poster" alt="movie-poster" class="image" style="width:100%">
      <div class="middle">
        <div class="text">
          <a href="javascript:void()" (click)="showMovie(favori.Title)">{{favori.Title}}</a>
        </div>
      </div>
    </div>
  </mat-card>
</div>

<!-- LOADER -->
<app-loader></app-loader>

<!-- ROUTING -->
<router-outlet></router-outlet>